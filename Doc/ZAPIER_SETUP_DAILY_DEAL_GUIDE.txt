# Zapier Setup Guide for Create-Daily-Deal-Flow-Entry Function

## Overview
This guide shows how to configure Zapier to send lead data to the Supabase Edge Function `create-daily-deal-flow-entry`.
The function creates entries in the daily_deal_flow table with all accident and incident fields.

## Function URL
```
https://yfivkhczzywgttbgwtgr.supabase.co/functions/v1/create-daily-deal-flow-entry
```

## Required Headers
- `Authorization: Bearer [your-anon-key]`
- `Content-Type: application/json`

## Required Fields
- `submission_id` (string) - Unique identifier for the lead submission
- `date` (string/date) - Date for the daily deal flow entry (YYYY-MM-DD format)

## All Available Fields

### Core Deal Flow Information
- `submission_id` (string, required) - Unique submission identifier
- `date` (string/date, required) - Date for the entry (YYYY-MM-DD format)
- `lead_vendor` (string) - Source/vendor of the lead
- `insured_name` (string) - Name of the insured person
- `phone_number` (string) - Client's phone number (maps to client_phone_number)



## Testing with cURL

```bash
curl -X POST 'https://yfivkhczzywgttbgwtgr.supabase.co/functions/v1/create-daily-deal-flow-entry' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmaXZraGN6enl3Z3R0Ymd3dGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNzA3NDYsImV4cCI6MjA3OTg0Njc0Nn0.ZcjrAzL2JFSRXXuTux3XZXl-cX0hhUAvIxeBdtWV4cE' \
  -H 'Content-Type: application/json' \
  --data '{
    "submission_id": "TEST-DEAL-001",
    "date": "2025-12-02",
    "lead_vendor": "Test Vendor",
    "insured_name": "Test Customer",
    "phone_number": "+1-555-123-4567",
    "accident_date": "2025-11-15",
    "accident_location": "Test Location",
    "police_attended": true,
    "insured": true
  }'
```

